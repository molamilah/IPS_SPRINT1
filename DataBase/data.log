/*C136*/SET SCHEMA PUBLIC
DROP TABLE IF EXISTS PAGO
DROP TABLE IF EXISTS RESERVA
DROP TABLE IF EXISTS SALA
DROP TABLE IF EXISTS USUARIO
CREATE TABLE USUARIO(\u000a\u0009ID_USUARIO INTEGER IDENTITY PRIMARY KEY,\u000a\u0009DNI VARCHAR(9) NOT NULL UNIQUE,\u000a\u0009NOMBRE VARCHAR(20) NOT NULL,\u000a\u0009APELLIDOS VARCHAR(40) NOT NULL,\u000a\u0009DIRECCION VARCHAR(40) NOT NULL,\u000a\u0009EMAIL VARCHAR(40),\u000a\u0009CIUDAD VARCHAR(20) NOT NULL,\u000a\u0009PASSWORD VARCHAR(20) NOT NULL,\u000a\u0009CUOTA DECIMAL(6,3) NOT NULL,\u000a\u0009BAJA BOOLEAN NOT NULL,\u000a\u0009FECHA_BAJA TIMESTAMP\u000a)
CREATE TABLE SALA(\u000a\u0009ID_SALA INTEGER IDENTITY PRIMARY KEY,\u000a\u0009DESCRIPCION VARCHAR(200) UNIQUE,\u000a\u0009PRECIO DECIMAL(6,3) NOT NULL\u000a)
CREATE TABLE RESERVA(\u000a\u0009ID_RESERVA INTEGER IDENTITY PRIMARY KEY,\u000a\u0009HORA_INICIO TIMESTAMP NOT NULL,\u000a\u0009HORA_FIN TIMESTAMP NOT NULL,\u000a\u0009ID_USUARIO INTEGER NOT NULL,\u000a\u0009ID_SALA INTEGER NOT NULL,\u000a\u0009HORA_ENTRADA TIMESTAMP,\u000a\u0009HORA_SALIDA TIMESTAMP,\u000a\u0009ESTADO VARCHAR(15),\u000a\u0009CONSTRAINT FK_RESERVA_USUARIO FOREIGN KEY(ID_USUARIO) REFERENCES USUARIO(ID_USUARIO),\u000a\u0009CONSTRAINT FK_RESERVA_SALA FOREIGN KEY(ID_SALA) REFERENCES SALA(ID_SALA)\u000a)
CREATE TABLE PAGO (\u000a\u0009ID_PAGO INTEGER IDENTITY PRIMARY KEY,\u000a\u0009ID_RESERVA INTEGER NOT NULL,\u000a\u0009PRECIO DECIMAL(6,3) NOT NULL,\u000a\u0009CONTADO BOOLEAN NOT NULL,\u000a\u0009PAGADO BOOLEAN NOT NULL,\u000a\u0009CONSTRAINT FK_RESERVA_PAGO FOREIGN KEY (ID_RESERVA) REFERENCES RESERVA(ID_RESERVA),\u000a)
INSERT INTO USUARIO VALUES(0,'00000000','ADMIN','ADMIN','ADMIN','','ADMIN','ADMIN',0.000,FALSE,NULL)
COMMIT
INSERT INTO USUARIO VALUES(1,'76454395G','Pedro','Arguelles','C/Comandante Janari','','Oviedo','1234',25.000,FALSE,NULL)
COMMIT
INSERT INTO USUARIO VALUES(2,'76434395A','Paco','Riesgo','C/Comandante Janari','','Oviedo','1234',25.000,FALSE,NULL)
COMMIT
INSERT INTO USUARIO VALUES(3,'76455695F','Saul','Garcia','C/Comandante Janari','','Oviedo','1234',25.000,TRUE,'2016-11-01 00:00:00.000000')
COMMIT
INSERT INTO USUARIO VALUES(4,'76432955H','Alfredo','Miravalles','C/Comandante Janari','','Oviedo','1234',25.000,TRUE,'2017-01-01 00:00:00.000000')
COMMIT
INSERT INTO USUARIO VALUES(5,'76458395Y','Martin','Diaz','C/Comandante Janari','','Oviedo','1234',25.000,FALSE,NULL)
COMMIT
INSERT INTO USUARIO VALUES(6,'76458885Z','David','Mu\u00f1iz','C/Comandante Janari','','Oviedo','1234',25.000,TRUE,'2016-10-01 00:00:00.000000')
COMMIT
INSERT INTO SALA VALUES(0,'Spinning',8.900)
COMMIT
INSERT INTO SALA VALUES(1,'Tenis 1',7.500)
COMMIT
INSERT INTO SALA VALUES(2,'Tenis 2',7.500)
COMMIT
INSERT INTO SALA VALUES(3,'Padel 1',8.000)
COMMIT
INSERT INTO SALA VALUES(4,'Padel 2',8.000)
COMMIT
INSERT INTO SALA VALUES(5,'Karate',15.000)
COMMIT
INSERT INTO SALA VALUES(6,'Boxeo',14.000)
COMMIT
INSERT INTO RESERVA VALUES(0,'2016-10-08 09:00:00.000000','2016-10-08 11:00:00.000000',0,2,NULL,NULL,'cancelada')
COMMIT
INSERT INTO RESERVA VALUES(1,'2016-10-20 10:00:00.000000','2016-10-20 11:00:00.000000',3,2,NULL,NULL,'cancelada')
COMMIT
INSERT INTO RESERVA VALUES(2,'2016-10-20 14:00:00.000000','2016-10-20 15:00:00.000000',4,2,NULL,NULL,NULL)
COMMIT
INSERT INTO RESERVA VALUES(3,'2016-10-20 10:00:00.000000','2016-10-20 11:00:00.000000',5,1,NULL,NULL,NULL)
COMMIT
INSERT INTO RESERVA VALUES(4,'2016-10-20 09:00:00.000000','2016-10-20 11:00:00.000000',6,4,NULL,NULL,NULL)
COMMIT
INSERT INTO PAGO VALUES(0,0,8.900,FALSE,FALSE)
COMMIT
INSERT INTO PAGO VALUES(1,1,8.900,TRUE,FALSE)
COMMIT
INSERT INTO PAGO VALUES(2,2,17.800,FALSE,FALSE)
COMMIT
DISCONNECT
